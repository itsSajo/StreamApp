{"version":3,"sources":["webpack:///webpack/bootstrap 898f12fe65faf7a2cc71","webpack:///external \"webpack\"","webpack:///./webpack.client.js","webpack:///external \"chalk\"","webpack:///external \"express\"","webpack:///external \"http\"","webpack:///external \"socket.io\"","webpack:///external \"source-map-support/register\"","webpack:///external \"webpack-dev-middleware\"","webpack:///external \"webpack-hot-middleware\"","webpack:///./src/server/server.js","webpack:///external \"extract-text-webpack-plugin\"","webpack:///external \"path\""],"names":["webpack","require","path","ExtractTextPlugin","vendorModules","dirname","resolve","createConfig","isDebug","devTool","plugins","optimize","CommonsChunkPlugin","name","filename","cssLoader","test","use","loader","exclude","sassLoader","appEntry","push","UglifyJsPlugin","extract","fallback","HotModuleReplacementPlugin","splice","devtool","entry","app","vendor","output","join","publicPath","alias","shared","module","rules","enforce","options","limit","mimetype","exports","isDevelopment","process","env","NODE_ENV","port","PORT","server","Server","io","USE_WEBPACK","webpackMiddleware","webpackHotMiddleware","clientConfig","compiler","stats","colors","chunks","assets","timing","modules","hash","version","console","log","bgRed","set","static","useExternalStyles","get","req","res","render","on","startServer","listen"],"mappings":"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","file":"server.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 9);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 898f12fe65faf7a2cc71","module.exports = require(\"webpack\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"webpack\"\n// module id = 0\n// module chunks = 0","var webpack           = require(\"webpack\");\r\nvar path              = require(\"path\");\r\nvar ExtractTextPlugin = require(\"extract-text-webpack-plugin\");\r\n\r\n// 3rd party vendors\r\nconst vendorModules = [\"jquery\", \"lodash\", \"socket.io-client\", \"rxjs\"];\r\n\r\n// fix odity with webpack\r\nconst dirname = path.resolve(\"./\");\r\n\r\nfunction createConfig(isDebug) {\r\n  // source-map is slower for prod, eval for development and faster\r\n  // eval cant be used on server, becasue source-map package doesnt support it\r\n  const devTool = isDebug ? \"eval-source-map\" : \"source-map\";\r\n\r\n  // this plugin will take anything in entry property as vendor and output it to vendor.js and will\r\n  // be extracted from build\r\n  // If an array of strings is passed this is equal to invoking the plugin multiple times for each chunk name.\r\n  const plugins = [new webpack.optimize.CommonsChunkPlugin({\r\n    name : \"vendor\",\r\n    filename : \"vendor.js\"\r\n  })];\r\n\r\n  // we will use other style loaders in production\r\n  // applied to entries from bot to top\r\n  const cssLoader = {\r\n    test    : /\\.css$/,\r\n    use     : [\r\n      {\r\n        // Adds CSS to the DOM by injecting a <style> tag\r\n        loader  : \"style-loader\"\r\n      },\r\n      {\r\n        // The css-loader interprets @import and url() like import/require() and will resolve them.\r\n        loader  : \"css-loader\"\r\n      }\r\n    ],\r\n    exclude : \"/node_modules/\"\r\n  };\r\n  const sassLoader = {\r\n    test    : /\\.scss$/,\r\n    use     : [\r\n      {\r\n        loader  : \"style-loader\"\r\n      },\r\n      {\r\n        loader  : \"css-loader\"\r\n      },\r\n      {\r\n        loader  : \"sass-loader\"\r\n      }\r\n    ],\r\n\r\n  };\r\n\r\n  // to be alter in future time, in array because we will add additional files if\r\n  // in debug mode or not\r\n  const appEntry = [\"./src/client/app.js\"];\r\n\r\n  // adding minification\r\n  if (!isDebug) {\r\n    plugins.push(new webpack.optimize.UglifyJsPlugin());\r\n    // extract css from js to seperate css file\r\n    plugins.push(new ExtractTextPlugin('[name].css'));\r\n\r\n    // rewritring loaders for production -> css to text file\r\n    // Creates an extracting loader from an existing loader\r\n    cssLoader.use = ExtractTextPlugin.extract({\r\n      fallback: 'style-loader',\r\n      //Loader(s) that should be used for converting the resource to a CSS exporting module\r\n      use: 'css-loader'\r\n    });\r\n\r\n    sassLoader.use = ExtractTextPlugin.extract({\r\n      fallback: 'style-loader',\r\n      use: ['css-loader', 'sass-loader']\r\n    });\r\n    // esle in dev mode\r\n  } else {\r\n    // replace modules when in runtime -> injecting client.js into our app\r\n    // and graph their dependencies into one \"chunk\".\r\n    // the last one is exported\r\n    plugins.push(new webpack.HotModuleReplacementPlugin());\r\n    appEntry.splice(0, 0, \"webpack-hot-middleware/client\");\r\n  }\r\n\r\n  return {\r\n    // -------------------\r\n    // WEBPACK CONFIG OBJECT START//\r\n    devtool : devTool,\r\n    // using object on entry property so we can process on multiple files\r\n    entry   : {\r\n      app : appEntry,\r\n      // CommonsChunkPlugin will take away jquery from app entry and stack it seperate file\r\n      vendor : vendorModules\r\n    },\r\n    output  : {\r\n      path       : path.join(dirname, \"public\", \"build\"),\r\n      // webpack template syntax. File will be named after entry property.\r\n      filename   : \"[name].js\",\r\n      // browser will see this bundle and use it\r\n      // every urls that webpack encounters will be re-written with /build/ in url\r\n      // Where you uploaded your bundled files we dont need to src=\"path/pic.jpg\", just \"pic.jpg\"\r\n      publicPath : \"/build/\"\r\n    },\r\n    resolve : {\r\n      alias : {\r\n        // when code sees 'shared' will join with aboslute path\r\n        shared : path.join(dirname, \"src\", \"shared\")\r\n      }\r\n    },\r\n    module: {\r\n      rules: [\r\n        {\r\n          enforce : \"pre\",\r\n          test    : /\\.js$/,\r\n          loader  : \"eslint-loader\",\r\n          exclude : \"/node_modules/\"\r\n        },\r\n        {\r\n          test    : /\\.js$/,\r\n          loader  : \"babel-loader\",\r\n          exclude : \"/node_modules/\"\r\n        },\r\n        // url will inline files with extensions if they are smaller than limit (ex. 1024)\r\n        // also url-loader do cache busting (name of files will be changed),\r\n        // so it will prevent browser using cached file when we add new file\r\n\r\n        {\r\n          test    : /\\.(png|jpg|jpeg|gif|)$/,\r\n          exclude : \"/node_modules/\",\r\n          // to prevent web requests from goin for small files we can inline it into css\r\n          // example unicoded 64 base images\r\n          // file-loader will be used if output bigget than limit size\r\n          loader  : \"url-loader?limit=10000\"\r\n        },\r\n\r\n        // problems wth compiling extension of font-awesome url\r\n        {\r\n          test: /\\.woff(2)?(\\?v=[0-9]\\.[0-9]\\.[0-9])?$/,\r\n          use: [\r\n            {\r\n              loader: 'url-loader',\r\n              options: {\r\n                limit: 10000,\r\n                mimetype: 'application/font-woff'\r\n              }\r\n            }\r\n          ]\r\n        },\r\n\r\n        {\r\n          test: /\\.(ttf|eot|svg)(\\?v=[0-9]\\.[0-9]\\.[0-9])?$/,\r\n          use: [\r\n            { loader: 'file-loader' }\r\n          ]\r\n        },\r\n\r\n        cssLoader,\r\n        sassLoader\r\n      ]\r\n    },\r\n    plugins : plugins\r\n    // ------------------ //\r\n  };\r\n}\r\n\r\nmodule.exports = createConfig;\r\n\n\n\n// WEBPACK FOOTER //\n// ./webpack.client.js","module.exports = require(\"chalk\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"chalk\"\n// module id = 2\n// module chunks = 0","module.exports = require(\"express\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"express\"\n// module id = 3\n// module chunks = 0","module.exports = require(\"http\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"http\"\n// module id = 4\n// module chunks = 0","module.exports = require(\"socket.io\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"socket.io\"\n// module id = 5\n// module chunks = 0","module.exports = require(\"source-map-support/register\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"source-map-support/register\"\n// module id = 6\n// module chunks = 0","module.exports = require(\"webpack-dev-middleware\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"webpack-dev-middleware\"\n// module id = 7\n// module chunks = 0","module.exports = require(\"webpack-hot-middleware\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"webpack-hot-middleware\"\n// module id = 8\n// module chunks = 0","// linecodes where error apears\r\nimport \"source-map-support/register\";\r\n// Babel converts import and export declaration to CommonJS (require/module.exports)\r\nimport express from \"express\";\r\nimport http from \"http\";\r\nimport socketIo from \"socket.io\";\r\nimport chalk from \"chalk\";\r\n\r\n// when we in dev mode we will use hotpack middleware\r\nconst isDevelopment = process.env.NODE_ENV !== \"production\";\r\n\r\n// -----------------------------------------\r\n// SETUP\r\nconst app = express();\r\nconst port = process.env.PORT || 3000;\r\nconst server = new http.Server(app);\r\nconst io = new socketIo(server);\r\n\r\n// -----------------------------------------\r\n// Client webpack\r\nif (process.env.USE_WEBPACK === \"true\") {\r\n  // used in nodemon setup for server\r\n  // It serves the files emitted from webpack over a connect server\r\n  var webpackMiddleware    = require(\"webpack-dev-middleware\");\r\n  var webpackHotMiddleware = require('webpack-hot-middleware');\r\n  var webpack              = require(\"webpack\");\r\n  var clientConfig         = require(\"../../webpack.client\")(true);\r\n\r\n  // passing a webpack init config into variable\r\n  const compiler = webpack(clientConfig);\r\n\r\n  // express gonna use this middleware with 2 params - webpack config and options\r\n  // where webpack middleware gonna intercept HTTP requests from express to change it\r\n  // No files are written to disk, it handle the files in memory so it is goin back to src\r\n  // when there is no file in build\r\n\r\n  app.use(webpackMiddleware(compiler, {\r\n\r\n    publicPath: \"/build\",\r\n\r\n    // just shut up with all infos\r\n    stats : {\r\n      colors  : true,\r\n      chunks  : false,\r\n      assets  : false,\r\n      timing  : false,\r\n      modules : false,\r\n      hash    : false,\r\n      version : false\r\n    }\r\n  }));\r\n  // hot reloading into an existing server\r\n  app.use(webpackHotMiddleware(compiler));\r\n  console.log(chalk.bgRed(\"Using WDM! Dev Only!\"));\r\n}\r\n// -----------------------------------------\r\n// Configure Express\r\napp.set(\"view engine\", \"jade\");\r\napp.use(express.static(\"public\"));\r\n\r\n// if not in dev it will use external css file from production build\r\nconst useExternalStyles = !isDevelopment;\r\napp.get(\"/\", (req, res) => {\r\n  res.render(\"index\", {\r\n    useExternalStyles\r\n  });\r\n});\r\n// -----------------------------------------\r\n// Modules\r\n\r\n\r\n\r\n// -----------------------------------------\r\n// Socket\r\nio.on(\"connection\", () => {\r\n  console.log(\"User Connected\");\r\n\r\n\r\n});\r\n\r\n// -----------------------------------------\r\n\r\n\r\n// in future we will have a startup process\r\nfunction startServer() {\r\n  server.listen(port, () => {\r\n    console.log(`Started Server on ${port}`);\r\n  });\r\n}\r\n\r\nstartServer();\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/server.js","module.exports = require(\"extract-text-webpack-plugin\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"extract-text-webpack-plugin\"\n// module id = 10\n// module chunks = 0","module.exports = require(\"path\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"path\"\n// module id = 11\n// module chunks = 0"],"sourceRoot":""}